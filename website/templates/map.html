{% extends "_base.html" %}

{% load static %}

{% block contents %}
  <div id="map" style="height: calc(100vh - 4rem - 2.5rem)"></div>
{% endblock %}

{% block scripts %}  
  <script src="https://unpkg.com/leaflet@latest/dist/leaflet.js" defer></script>
  <script src="https://unpkg.com/leaflet-providers@latest/leaflet-providers.js" defer></script>
  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/wordcloud2.js/1.0.2/wordcloud2.min.js" 
          integrity="sha512-f1TzI0EVjfhwKkLEFZnu8AgzzzuUBE9X4YY61EoQJhjH8m+25VKdWmEfTJjmtnm0TEP8q9h+J061kCHvx3NJDA==" 
          crossorigin="anonymous" referrerpolicy="no-referrer" defer></script>
  
  <script src="{% static 'website/js/map.js' %}" defer></script>
  <script defer>
    const options = {
      zoom: { initial: 15, min: 15, max: 19 },
      map: { provider: "Stamen.TonerBackground" },
    }
    document.addEventListener(
        'DOMContentLoaded', 
        () => initMap({{ places | safe }}, {{ center }}, options)
    );
  </script>
{% endblock %}